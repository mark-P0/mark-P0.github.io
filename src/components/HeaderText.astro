---
import ResumeButton from './ResumeButton.svelte';
import strings, { decrypt } from '../strings.js';

const textHeadingLink = decrypt(strings.HEADER_TEXT_HEADING_LINK);
const textHeading = decrypt(strings.HEADER_TEXT_HEADING);
const text = strings.HEADER_TEXT.map(decrypt);
---

<section class="card border-primary border-stylized pt-4 pb-3 pe-3">
  <div class="card-body p-0">
    <h2 class="font-heading text-primary fw-bold">
      <a href={textHeadingLink} target="_blank" rel="noopener noreferrer">
        {textHeading}
      </a>
    </h2>

    <p>
      {text[0]}
      <strong>{text[1]}</strong>
      <span class="text-capitalize">{text[2]}</span>
      {text[3]}
      <em>{text[4]}</em>
    </p>
    <p>
      {text[5]}
      <strong>{text[6]}</strong>
      {text[7]}
      <strong>{text[8]}</strong>
      {text[9]}
      <strong>{text[10]}</strong>
      {text[11]}
    </p>
    <p class="opacity-25">{text[12]}</p>
  </div>

  <div
    class="card-footer text-primary hstack justify-content-end gap-3 fs-3 p-0"
  >
    <a class="bi bi-github" href={decrypt(strings.LINK_VCS)}>
      <span class="visually-hidden">External link</span>
    </a>
    <a class="bi bi-linkedin" href={decrypt(strings.LINK_SOCIAL)}>
      <span class="visually-hidden">External link</span>
    </a>
    <ResumeButton client:load />
  </div>
</section>

<style>
  .card {
    grid-area: text;
  }
  .card-footer {
    border: none;
    background-color: unset;
  }

  @media only screen and (min-width: 0px) {
    .card {
      margin-top: 1.5rem;
      padding-left: 1rem;
    }
  }
  @media only screen and (min-width: 576px) {
    .card {
      border-top-left-radius: 0;
      border-bottom-left-radius: 0;

      margin-top: 0;
    }
    .card-body > p {
      margin-bottom: 0.5rem;
    }
    .card-body > p:last-child {
      margin-bottom: 1rem;
    }
  }
  @media only screen and (min-width: 992px) {
    .card {
      padding-left: 1.5rem;

      align-self: end;
    }
    .card-body > p {
      margin: 0;
    }
  }
</style>
